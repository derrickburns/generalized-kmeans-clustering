name: CI

on:
  push:
    branches: [ master, main ]
  pull_request:
    branches: [ master, main ]
  workflow_dispatch:

concurrency:
  group: ${{ github.workflow }}-${{ github.ref }}
  cancel-in-progress: true

env:
  DEFAULT_SPARK: "3.5.1"
  PYSPARK_PIN: "3.5.1"
  JAVA_VERSION: "17"
  SCALA_212: "2.12.18"
  SCALA_213: "2.13.14"
  SBT_OPTS: "-Xms2g -Xmx4g -XX:+UseG1GC -Dsbt.log.noformat=true"

jobs:
  # Job 0: Simple test to verify workflow is accepted
  test-minimal:
    runs-on: ubuntu-latest
    name: Minimal Test
    steps:
      - uses: actions/checkout@v4
      - name: Echo test
        run: echo "CI workflow is running successfully"

